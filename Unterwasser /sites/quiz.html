<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korallenriff-Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Grundlegende Stile */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Quicksand', sans-serif;
        }

        body {
            overflow-x: hidden;
        }

        /* Hauptcontainer */
        .ocean-container {
            position: relative;
            width: 100%;
            min-height: 100vh;
            background: url('../Images/underwater-background.jpg') no-repeat center center;
            background-size: cover;
            overflow: hidden;
        }

        /* Blasen */
        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            animation: bubbleRise linear infinite;
        }

        @keyframes bubbleRise {
            0% {
                transform: translateY(100vh) scale(0.3);
                opacity: 0;
            }
            20% {
                opacity: 0.8;
            }
            80% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) scale(1);
                opacity: 0;
            }
        }

      /* Header und Navigation */
.site-header {
  background-color: rgba(255, 255, 255, 0.8);
  padding: 15px 0;
  border-bottom: 3px solid #0077be;
  position: relative;
  z-index: 100;
}

.site-nav {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.nav-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: 15px 20px;
  margin: 0 15px;
  text-decoration: none;
  color: #00458b;
  font-weight: 600;
  font-size: 1.3rem;
  transition: all 0.3s ease;
  border-radius: 10px;
  cursor: pointer;
}

.nav-item:hover {
  background-color: rgba(0, 119, 190, 0.2);
}

.nav-item .emoji {
  font-size: 1.3rem;
  margin-right: 8px;
}

.nav-item.active {
  background-color: rgba(0, 119, 190, 0.3);
}

/* Dropdown-Men√º */
.dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  background-color: rgba(255, 255, 255, 0.95);
  border-radius: 0 0 10px 10px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  min-width: 200px;
  display: none;
  z-index: 101;
}

.nav-item:hover .dropdown {
  display: block;
}

.dropdown-item {
  display: block;
  padding: 10px 15px;
  color: #00458b;
  text-decoration: none;
  transition: all 0.2s ease;
  border-bottom: 1px solid rgba(0, 119, 190, 0.1);
  font-weight: 500;
}

.dropdown-item:last-child {
  border-bottom: none;
  border-radius: 0 0 10px 10px;
}

.dropdown-item:hover {
  background-color: rgba(0, 119, 190, 0.1);
  padding-left: 20px;
}



        /* Hauptinhalt */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            position: relative;
            z-index: 2;
        }

        .quiz-title {
            color: #fff;
            font-size: 3.2rem;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            font-weight: 700;
        }

        .quiz-container {
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .quiz-intro {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-intro h2 {
            color: #00458b;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .quiz-intro p {
            color: #333;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .start-button {
            background-color: #0077be;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0, 119, 190, 0.3);
        }

        .start-button:hover {
            background-color: #00589e;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 119, 190, 0.4);
        }

        .quiz-question {
            display: none;
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.3rem;
            color: #00458b;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-button {
            background-color: rgba(0, 119, 190, 0.1);
            border: 2px solid rgba(0, 119, 190, 0.3);
            border-radius: 10px;
            padding: 12px 15px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            color: #00458b;
        }

        .option-button:hover {
            background-color: rgba(0, 119, 190, 0.2);
            transform: translateY(-2px);
        }

        .option-button.selected {
            background-color: rgba(0, 119, 190, 0.3);
            border-color: #0077be;
        }

        .option-button.correct {
            background-color: rgba(40, 167, 69, 0.3);
            border-color: #28a745;
        }

        .option-button.incorrect {
            background-color: rgba(220, 53, 69, 0.3);
            border-color: #dc3545;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-button {
            background-color: #0077be;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1.1rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .nav-button:hover {
            background-color: #00589e;
        }

        .nav-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .progress-container {
            height: 10px;
            background-color: rgba(0, 119, 190, 0.1);
            border-radius: 5px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #0077be;
            width: 0%;
            transition: width 0.3s ease;
        }

        .quiz-results {
            display: none;
            text-align: center;
        }

        .results-container {
            margin-bottom: 30px;
        }

        .results-title {
            color: #00458b;
            font-size: 2rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .score-display {
            font-size: 3rem;
            color: #0077be;
            margin: 20px 0;
            font-weight: 700;
        }

        .results-message {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .certificate-button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);
        }

        .certificate-button:hover {
            background-color: #218838;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(40, 167, 69, 0.4);
        }

        .restart-button {
            background-color: #0077be;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            font-weight: 600;
            margin-left: 15px;
            box-shadow: 0 4px 8px rgba(0, 119, 190, 0.3);
        }

        .restart-button:hover {
            background-color: #00589e;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 119, 190, 0.4);
        }

        .certificate-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .certificate {
            background-color: #fff;
            border: 10px solid #0077be;
            border-radius: 10px;
            padding: 40px;
            width: 80%;
            max-width: 800px;
            text-align: center;
            position: relative;
        }

        .certificate-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #00458b;
            background: none;
            border: none;
        }

        .certificate-title {
            font-size: 2.5rem;
            color: #00458b;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .certificate-text {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .certificate-name {
            font-size: 2rem;
            color: #0077be;
            margin: 20px 0;
            font-weight: 700;
            font-style: italic;
        }

        .certificate-date {
            font-size: 1.1rem;
            color: #666;
            margin-top: 30px;
        }

        .certificate-image {
            max-width: 150px;
            margin: 20px auto;
        }

        /* Korallen am Boden */
        .coral-bed {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: auto;
            z-index: 1;
        }

        /* Maskottchen mit Sprechblase */
        .mascot-container {
            position: absolute;
            bottom: 80px;
            left: 10%;
            z-index: 50;
            animation: swimLeftOnly 30s linear infinite;
        }

        /* Animation f√ºr Schwimmen nur nach links */
        @keyframes swimLeftOnly {
            0% {
                transform: translateX(80vw) translateY(0);
            }
            25% {
                transform: translateX(60vw) translateY(-30px);
            }
            50% {
                transform: translateX(40vw) translateY(20px);
            }
            75% {
                transform: translateX(20vw) translateY(-10px);
            }
            100% {
                transform: translateX(0) translateY(0);
            }
        }

        .mascot {
            width: 370px;
            height: auto;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .mascot:hover {
            transform: scale(1.1) rotate(10deg);
        }

        .mascot-speech {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: -30px;
            max-width: 280px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            display: none;
        }

        .mascot-speech.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .mascot-speech:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 30px;
            width: 0;
            height: 0;
            border: 15px solid transparent;
            border-top-color: rgba(255, 255, 255, 0.9);
            border-bottom: 0;
        }

        .mascot-speech p {
            margin: 0;
            color: #00458b;
            font-size: 1.1rem;
            font-weight: 500;
        }

        /* Audio-Steuerung */
        .audio-control {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
        }

        #sound-toggle {
            background: rgba(255, 255, 255, 0.7);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        #sound-toggle:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: scale(1.1);
        }

        #sound-icon {
            width: 30px;
            height: 30px;
        }

        /* Home Button - jetzt mit position: fixed statt absolute */
      .home-button {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(255, 255, 255, 0.7);
        border: none;
        border-radius: 10px;
        padding: 10px 15px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        z-index: 1000;
        text-decoration: none;
      }
      
      .home-button:hover {
        background: rgba(255, 255, 255, 0.9);
        transform: scale(1.05);
      }
      
      .home-icon {
        font-size: 24px;
        color: #00458b;
        margin-right: 8px;
      }
      
      .home-text {
        color: #00458b;
        font-weight: 600;
        font-size: 1.1rem;
      }

        /* Detaillierte Auswertung */
        .detailed-results {
            margin-top: 30px;
            text-align: left;
            max-height: 400px;
            overflow-y: auto;
            padding-right: 15px;
        }

        .result-item {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 5px solid #0077be;
        }

        .result-item.correct {
            border-left-color: #28a745;
        }

        .result-item.incorrect {
            border-left-color: #dc3545;
        }

        .result-question {
            font-weight: 600;
            color: #00458b;
            margin-bottom: 10px;
        }

        .result-answer {
            margin-bottom: 10px;
        }

        .result-answer.user-answer {
            font-weight: 500;
        }

        .result-answer.correct-answer {
            color: #28a745;
            font-weight: 500;
        }

        .result-explanation {
            font-style: italic;
            color: #555;
            margin-top: 10px;
            font-size: 0.95rem;
        }

        .view-details-button {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1.1rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);
        }

        .view-details-button:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(108, 117, 125, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .quiz-title {
                font-size: 2.5rem;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .mascot {
                width: 180px;
            }
            
            .mascot-speech {
                max-width: 220px;
            }
            
            .certificate {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .quiz-title {
                font-size: 2rem;
            }
            
            .quiz-container {
                padding: 20px;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .option-button {
                font-size: 1rem;
                padding: 10px;
            }
            
            .nav-button {
                padding: 8px 15px;
                font-size: 1rem;
            }
            
            .mascot {
                width: 150px;
            }
            
            .mascot-speech {
                max-width: 180px;
                font-size: 0.9rem;
            }
            
            .certificate-title {
                font-size: 1.5rem;
            }
            
            .certificate-name {
                font-size: 1.5rem;
            }
        }
		/* Footer */
.site-footer {
  background-color: rgba(255, 255, 255, 0.8);
  padding: 15px 0;
  border-top: 3px solid #0077be;
  position: relative;
  z-index: 100;
  margin-top: auto;
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  flex-wrap: wrap;
}

.footer-links {
  display: flex;
  gap: 20px;
}

.footer-link {
  display: flex;
  align-items: center;
  color: #00458b;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.1rem;
  transition: all 0.3s ease;
}

.footer-link:hover {
  color: #0077be;
  text-decoration: underline;
}

.footer-link .emoji {
  font-size: 1.2rem;
  margin-right: 8px;
}

.copyright {
  color: #00458b;
  font-size: 0.9rem;
}

/* Responsive Design f√ºr Footer */
@media (max-width: 768px) {
  .footer-content {
    flex-direction: column;
    gap: 15px;
  }
}

@media (max-width: 480px) {
  .footer-links {
    flex-direction: column;
    gap: 10px;
    align-items: center;
  }
}

    </style>
</head>
<body>
    <div class="ocean-container">
        <div class="bubbles-container"></div>
        
 <!-- Header und Navigation -->
<header class="site-header">
  <nav class="site-nav">
    <div class="nav-item">
      <span class="emoji">üêö</span>
      <a href="ueber-korallenriffe.html">√úber Korallenriffe</a>
    </div>
    <div class="nav-item">
      <span class="emoji">üê†</span>
      Arten
      <div class="dropdown">
        <a href="korallenartensite.html" class="dropdown-item">Steinkorallen</a>
        <a href="korallenartensite.html" class="dropdown-item">Weichkorallen</a>
        <a href="korallenartensite.html" class="dropdown-item">Hornkorallen</a>
      </div>
    </div>
    <div class="nav-item">
      <span class="emoji">üéÆ</span>
      Spiel und Spa√ü
      <div class="dropdown">
        <a href="quiz.html" class="dropdown-item">Quiz</a>
        <a href="memory.html" class="dropdown-item">Memory</a>
      </div>
    </div>
    <div class="nav-item">
      <span class="emoji">üåä</span>
      Schutzma√ünahmen
      <div class="dropdown">
        <a href="schutzmassnahmen.html#projekte" class="dropdown-item">Schutzprojekte</a>
      
		
      </div>
    </div>
    
  </nav>
</header>

<!-- Home Button -->
<a href="../index.html" class="home-button" title="Zur√ºck zur Startseite">
  <span class="home-icon">ü™∏</span>
  <span class="home-text">Start</span>
</a>

        <!-- Hauptinhalt -->
        <main class="main-content">
            <h1 class="quiz-title">Korallenriff-Quiz</h1>
            
            <div class="quiz-container">
                <!-- Quiz Intro -->
                <div class="quiz-intro" id="quiz-intro">
                    <h2>Teste dein Wissen √ºber Korallenriffe!</h2>
                    <p>Wie gut kennst du dich mit Korallenriffen aus? Beantworte 10 Fragen und erhalte am Ende eine Urkunde mit deinem Ergebnis!</p>
                    <button class="start-button" id="start-quiz">Quiz starten</button>
                </div>
                
                <!-- Quiz Questions -->
                <div class="quiz-question" id="quiz-question">
                    <div class="progress-container">
                        <div class="progress-bar" id="progress-bar"></div>
                    </div>
                    
                    <div class="question-container">
                        <p class="question-text" id="question-text">Frage wird geladen...</p>
                        <div class="options-container" id="options-container">
                            <!-- Options will be inserted here -->
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button class="nav-button" id="prev-button" disabled>Zur√ºck</button>
                        <button class="nav-button" id="next-button">Weiter</button>
                    </div>
                </div>
                
                <!-- Quiz Results -->
                <div class="quiz-results" id="quiz-results">
                    <div class="results-container">
                        <h2 class="results-title">Quiz abgeschlossen!</h2>
                        <p class="score-display">Du hast <span id="score">0</span> von 10 Punkten erreicht!</p>
                        <p class="results-message" id="results-message">Lade deine Urkunde herunter und zeige allen, was du √ºber Korallenriffe wei√üt!</p>
                        <button class="view-details-button" id="view-details">Detaillierte Auswertung anzeigen</button>
                        <div class="detailed-results" id="detailed-results" style="display: none;">
                            <!-- Detailed results will be inserted here -->
                        </div>
                        <button class="certificate-button" id="show-certificate">Urkunde anzeigen</button>
                        <button class="restart-button" id="restart-quiz">Quiz neu starten</button>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Certificate Modal -->
        <div class="certificate-container" id="certificate-container">
            <div class="certificate" id="certificate">
                <button class="certificate-close" id="certificate-close">‚úñ</button>
                <h2 class="certificate-title">Urkunde</h2>
                <img src="../Images/koralli.PNG" alt="Koralli-Maskottchen" class="certificate-image">
                <p class="certificate-text">Diese Urkunde best√§tigt, dass</p>
                <p class="certificate-name" id="certificate-name">Dein Name</p>
                <p class="certificate-text">erfolgreich am Korallenriff-Quiz teilgenommen und</p>
                <p class="certificate-text"><span id="certificate-score">0</span> von 10 Punkten erreicht hat!</p>
                <p class="certificate-date" id="certificate-date">Datum</p>
            </div>
        </div>
        
        <!-- Korallen am Boden -->
        <img src="../Images/korallerichtig.png" alt="Korallen" class="coral-bed">
        
        <!-- Maskottchen mit Sprechblase - WICHTIG: Jetzt nach den Korallen platziert, damit es im Vordergrund erscheint -->
        <div class="mascot-container" style="z-index: 60;">
            <div class="mascot-speech" id="mascot-speech">
                <p>Hallo! Ich bin Finny. Teste dein Wissen √ºber Korallenriffe in unserem Quiz!</p>
            </div>
            <img src="../Images/koralli.PNG" alt="Koralli-Maskottchen" class="mascot" id="mascot">
        </div>
        
        <!-- Audio-Steuerung -->
        <div class="audio-control">
            <button id="sound-toggle" aria-label="Sound ein/ausschalten">
                <img src="../Images/bubble-sound.mp3" alt="Sound" id="sound-icon">
            </button>
        </div>
    </div>
<!-- Footer -->
<footer class="site-footer">
  <div class="footer-content">
    <div class="footer-links">
      <a href="team.html" class="footer-link">
        <span class="emoji">‚úâÔ∏è</span>Kontakt
      </a>
      <a href="impressum.html" class="footer-link">
        <span class="emoji">üìù</span>Impressum
      </a>
    </div>
    <div class="copyright">
      ¬© 2025 Korallenriff-Welt - Alle Rechte vorbehalten
    </div>
  </div>
</footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz-Fragen
            const quizQuestions = [
                {
                    question: "Was sind Korallen?",
                    options: ["Pflanzen", "Tiere", "Steine", "Algen"],
                    correctAnswer: 1,
                    explanation: "Korallen sind tats√§chlich Tiere, die zur Gruppe der Nesseltiere (Cnidaria) geh√∂ren. Sie sind mit Quallen verwandt und bestehen aus vielen kleinen Einzeltieren, den Polypen."
                },
                {
                    question: "Wie nennt man die winzigen Tiere, aus denen Korallen bestehen?",
                    options: ["Zooxanthellen", "Polypen", "Plankton", "Nematoden"],
                    correctAnswer: 1,
                    explanation: "Korallen bestehen aus vielen kleinen Einzeltieren, die Polypen genannt werden. Diese Polypen leben in Kolonien zusammen und bilden gemeinsam das Korallenskelett."
                },
                {
                    question: "Welches ist das gr√∂√üte Korallenriff der Welt?",
                    options: ["Rotes Meer Riff", "Belize Barrier Reef", "Great Barrier Reef", "Florida Keys Reef"],
                    correctAnswer: 2,
                    explanation: "Das Great Barrier Reef vor der K√ºste Australiens ist das gr√∂√üte Korallenriff der Welt. Es erstreckt sich √ºber etwa 2.300 Kilometer und ist sogar aus dem Weltraum sichtbar."
                },
                {
                    question: "Warum sind Korallen oft bunt?",
                    options: ["Wegen der Mineralien im Wasser", "Wegen der Algen, die in ihnen leben", "Um Fische anzulocken", "Um sich vor Fressfeinden zu sch√ºtzen"],
                    correctAnswer: 1,
                    explanation: "Die bunten Farben der Korallen kommen von mikroskopisch kleinen Algen (Zooxanthellen), die in ihrem Gewebe leben. Diese Algen betreiben Photosynthese und versorgen die Korallen mit N√§hrstoffen."
                },
                {
                    question: "Wie viel Prozent des Meeresbodens bedecken Korallenriffe ungef√§hr?",
                    options: ["0,1%", "1%", "5%", "10%"],
                    correctAnswer: 0,
                    explanation: "Obwohl Korallenriffe nur etwa 0,1% des Meeresbodens bedecken, beherbergen sie rund 25% aller bekannten Meeresarten. Sie geh√∂ren damit zu den artenreichsten √ñkosystemen der Erde."
                },
                {
                    question: "Welche Bedingungen brauchen Korallen zum √úberleben?",
                    options: ["Kaltes, tiefes Wasser", "Warmes, klares, sonnendurchflutetes Wasser", "Tr√ºbes Wasser mit vielen N√§hrstoffen", "Salzarmes Wasser in Flussm√ºndungen"],
                    correctAnswer: 1,
                    explanation: "Die meisten Riffbildenden Korallen ben√∂tigen warmes (20-28¬∞C), klares und sonnendurchflutetes Wasser, damit ihre Algenpartner Photosynthese betreiben k√∂nnen. Sie brauchen auch sauberes Wasser mit wenig N√§hrstoffen."
                },
                {
                    question: "Wie schnell wachsen Korallen durchschnittlich pro Jahr?",
                    options: ["Wenige Millimeter", "Wenige Zentimeter", "Einen halben Meter", "Mehrere Meter"],
                    correctAnswer: 1,
                    explanation: "Korallen wachsen sehr langsam, in der Regel nur wenige Zentimeter pro Jahr. Manche Arten wachsen sogar noch langsamer, nur wenige Millimeter pro Jahr. Deshalb brauchen Korallenriffe sehr lange, um sich zu bilden."
                },
                {
                    question: "Was ist Korallenbleiche?",
                    options: ["Eine nat√ºrliche Farbver√§nderung", "Ein Reinigungsprozess", "Eine Krankheit, die durch Bakterien verursacht wird", "Ein Stresssymptom, bei dem Korallen ihre Algenpartner verlieren"],
                    correctAnswer: 3,
                    explanation: "Bei der Korallenbleiche sto√üen die Korallen unter Stress (meist durch zu hohe Wassertemperaturen) ihre farbgebenden Algenpartner (Zooxanthellen) ab. Ohne diese Algen erscheinen die Korallen wei√ü und k√∂nnen verhungern, wenn der Stress zu lange anh√§lt."
                },
                {
                    question: "Welche Funktion haben Korallenriffe NICHT?",
                    options: ["Lebensraum f√ºr viele Meerestiere", "K√ºstenschutz vor Wellen und St√ºrmen", "Produktion von Sauerstoff f√ºr die Atmosph√§re", "Quelle f√ºr medizinische Wirkstoffe"],
                    correctAnswer: 2,
                    explanation: "Obwohl Korallenriffe durch Photosynthese ihrer Algenpartner Sauerstoff produzieren, tragen sie nicht wesentlich zum Sauerstoffgehalt der Atmosph√§re bei. Der meiste Sauerstoff in unserer Atmosph√§re wird von Phytoplankton und Landpflanzen produziert."
                },
                {
                    question: "Wie alt k√∂nnen Korallenriffe werden?",
                    options: ["Bis zu 100 Jahre", "Bis zu 1.000 Jahre", "Bis zu 10.000 Jahre", "Mehrere Millionen Jahre"],
                    correctAnswer: 3,
                    explanation: "Korallenriffe geh√∂ren zu den √§ltesten √ñkosystemen der Erde. Einige Riffe sind mehrere Millionen Jahre alt, wobei sich die einzelnen Korallen √ºber Generationen hinweg auf den Skeletten ihrer Vorg√§nger aufbauen."
                }
            ];
            
            // Variablen f√ºr Quiz-Zustand
            let currentQuestion = 0;
            let score = 0;
            let userAnswers = Array(quizQuestions.length).fill(null);
            let quizStarted = false;
            
            // DOM-Elemente
            const quizIntro = document.getElementById('quiz-intro');
            const quizQuestion = document.getElementById('quiz-question');
            const quizResults = document.getElementById('quiz-results');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const prevButton = document.getElementById('prev-button');
            const nextButton = document.getElementById('next-button');
            const progressBar = document.getElementById('progress-bar');
            const scoreElement = document.getElementById('score');
            const resultsMessage = document.getElementById('results-message');
            const certificateContainer = document.getElementById('certificate-container');
            const certificateName = document.getElementById('certificate-name');
            const certificateScore = document.getElementById('certificate-score');
            const certificateDate = document.getElementById('certificate-date');
            const detailedResults = document.getElementById('detailed-results');
            const viewDetailsButton = document.getElementById('view-details');
            
            // Event-Listener
            document.getElementById('start-quiz').addEventListener('click', startQuiz);
            prevButton.addEventListener('click', showPreviousQuestion);
            nextButton.addEventListener('click', handleNextButton);
            document.getElementById('show-certificate').addEventListener('click', showCertificate);
            document.getElementById('certificate-close').addEventListener('click', hideCertificate);
            document.getElementById('restart-quiz').addEventListener('click', restartQuiz);
            viewDetailsButton.addEventListener('click', toggleDetailedResults);
            
            // Blasen erzeugen
            createBubbles();
            
            // Sound-Steuerung
            setupSoundControl();
            
            // Maskottchen-Sprechblase
            setupMascot();
            
            // Quiz starten
            function startQuiz() {
                quizIntro.style.display = 'none';
                quizQuestion.style.display = 'block';
                quizStarted = true;
                showQuestion(0);
                
                // Klicksound abspielen
                if (window.playSound) {
                    playSound('click');
                }
            }
            
            // Frage anzeigen
            function showQuestion(index) {
                const question = quizQuestions[index];
                questionText.textContent = question.question;
                
                // Optionen erstellen
                optionsContainer.innerHTML = '';
                question.options.forEach((option, i) => {
                    const button = document.createElement('button');
                    button.classList.add('option-button');
                    button.textContent = option;
                    
                    // Wenn diese Option bereits ausgew√§hlt wurde
                    if (userAnswers[index] === i) {
                        button.classList.add('selected');
                    }
                    
                    button.addEventListener('click', () => selectOption(i));
                    optionsContainer.appendChild(button);
                });
                
                // Navigation-Buttons aktualisieren
                prevButton.disabled = index === 0;
                
                if (index === quizQuestions.length - 1) {
                    nextButton.textContent = 'Ergebnis anzeigen';
                } else {
                    nextButton.textContent = 'Weiter';
                }
                
                // Fortschrittsbalken aktualisieren
                const progress = ((index + 1) / quizQuestions.length) * 100;
                progressBar.style.width = `${progress}%`;
                
                currentQuestion = index;
            }
            
            // Option ausw√§hlen
            function selectOption(optionIndex) {
                userAnswers[currentQuestion] = optionIndex;
                
                // Alle Optionen zur√ºcksetzen
                const options = optionsContainer.querySelectorAll('.option-button');
                options.forEach(option => {
                    option.classList.remove('selected');
                });
                
                // Ausgew√§hlte Option markieren
                options[optionIndex].classList.add('selected');
                
                // Blasensound abspielen
                if (window.playSound) {
                    playSound('bubble');
                }
            }
            
            // Vorherige Frage anzeigen
            function showPreviousQuestion() {
                if (currentQuestion > 0) {
                    showQuestion(currentQuestion - 1);
                    if (window.playSound) {
                        playSound('bubble');
                    }
                }
            }
            
            // N√§chste Frage oder Ergebnis anzeigen
            function handleNextButton() {
                // Wenn keine Option ausgew√§hlt wurde
                if (userAnswers[currentQuestion] === null) {
                    alert('Bitte w√§hle eine Antwort aus!');
                    return;
                }
                
                if (currentQuestion < quizQuestions.length - 1) {
                    showQuestion(currentQuestion + 1);
                    if (window.playSound) {
                        playSound('bubble');
                    }
                } else {
                    showResults();
                    if (window.playSound) {
                        playSound('click');
                    }
                }
            }
            
            // Ergebnisse anzeigen
            function showResults() {
                // Punkte berechnen
                score = 0;
                userAnswers.forEach((answer, index) => {
                    if (answer === quizQuestions[index].correctAnswer) {
                        score++;
                    }
                });
                
                // Ergebnisse anzeigen
                quizQuestion.style.display = 'none';
                quizResults.style.display = 'block';
                scoreElement.textContent = score;
                certificateScore.textContent = score;
                
                // Ergebnistext basierend auf Punktzahl
                let message = '';
                if (score <= 3) {
                    message = 'Du kannst noch viel √ºber Korallenriffe lernen! Schau dir die Informationen auf unserer Seite an und versuche es noch einmal.';
                } else if (score <= 6) {
                    message = 'Nicht schlecht! Du wei√üt schon einiges √ºber Korallenriffe. Mit etwas mehr Lesen kannst du beim n√§chsten Mal bestimmt noch besser abschneiden!';
                } else if (score <= 9) {
                    message = 'Sehr gut! Du kennst dich wirklich gut mit Korallenriffen aus!';
                } else {
                    message = 'Perfekt! Du bist ein echter Korallenriff-Experte!';
                }
                
                resultsMessage.textContent = message;
                
                // Detaillierte Auswertung erstellen
                createDetailedResults();
            }
            
            // Detaillierte Auswertung erstellen
            function createDetailedResults() {
                detailedResults.innerHTML = '';
                
                userAnswers.forEach((answer, index) => {
                    const question = quizQuestions[index];
                    const isCorrect = answer === question.correctAnswer;
                    
                    const resultItem = document.createElement('div');
                    resultItem.classList.add('result-item');
                    resultItem.classList.add(isCorrect ? 'correct' : 'incorrect');
                    
                    const resultQuestion = document.createElement('div');
                    resultQuestion.classList.add('result-question');
                    resultQuestion.textContent = `Frage ${index + 1}: ${question.question}`;
                    
                    const userAnswerDiv = document.createElement('div');
                    userAnswerDiv.classList.add('result-answer', 'user-answer');
                    userAnswerDiv.textContent = `Deine Antwort: ${question.options[answer]}`;
                    
                    const resultItem2 = document.createElement('div');
                    if (!isCorrect) {
                        const correctAnswerDiv = document.createElement('div');
                        correctAnswerDiv.classList.add('result-answer', 'correct-answer');
                        correctAnswerDiv.textContent = `Richtige Antwort: ${question.options[question.correctAnswer]}`;
                        resultItem2.appendChild(correctAnswerDiv);
                    }
                    
                    const explanationDiv = document.createElement('div');
                    explanationDiv.classList.add('result-explanation');
                    explanationDiv.textContent = question.explanation;
                    
                    resultItem.appendChild(resultQuestion);
                    resultItem.appendChild(userAnswerDiv);
                    resultItem.appendChild(resultItem2);
                    resultItem.appendChild(explanationDiv);
                    
                    detailedResults.appendChild(resultItem);
                });
            }
            
            // Detaillierte Auswertung ein-/ausblenden
            function toggleDetailedResults() {
                const isVisible = detailedResults.style.display === 'block';
                detailedResults.style.display = isVisible ? 'none' : 'block';
                viewDetailsButton.textContent = isVisible ? 'Detaillierte Auswertung anzeigen' : 'Detaillierte Auswertung ausblenden';
                if (window.playSound) {
                    playSound('click');
                }
            }
            
            // Zertifikat anzeigen
            function showCertificate() {
                // Namen abfragen
                const name = prompt('Wie hei√üt du?', 'Dein Name');
                if (name) {
                    certificateName.textContent = name;
                    
                    // Aktuelles Datum
                    const today = new Date();
                    const dateString = today.toLocaleDateString('de-DE');
                    certificateDate.textContent = dateString;
                    
                    // Zertifikat anzeigen
                    certificateContainer.style.display = 'flex';
                    
                    // Klicksound abspielen
                    if (window.playSound) {
                        playSound('click');
                    }
                }
            }
            
            // Zertifikat ausblenden
            function hideCertificate() {
                certificateContainer.style.display = 'none';
                if (window.playSound) {
                    playSound('bubble');
                }
            }
            
            // Quiz neu starten
            function restartQuiz() {
                currentQuestion = 0;
                score = 0;
                userAnswers = Array(quizQuestions.length).fill(null);
                
                quizResults.style.display = 'none';
                quizIntro.style.display = 'block';
                
                if (window.playSound) {
                    playSound('click');
                }
            }
            
            // Zertifikat herunterladen
            document.getElementById('certificate').addEventListener('click', function(e) {
                // Nur herunterladen, wenn nicht auf den Schlie√üen-Button geklickt wurde
                if (e.target !== document.getElementById('certificate-close')) {
                    // HTML2Canvas einbinden (w√ºrde normalerweise √ºber ein externes Script geladen)
                    const script = document.createElement('script');
                    script.src = 'https://html2canvas.hertzen.com/dist/html2canvas.min.js';
                    script.onload = function() {
                        // Zertifikat als Bild rendern
                        html2canvas(document.getElementById('certificate')).then(function(canvas) {
                            // Download-Link erstellen
                            const link = document.createElement('a');
                            link.download = 'Korallenriff-Urkunde.png';
                            link.href = canvas.toDataURL('image/png');
                            link.click();
                        });
                    };
                    document.body.appendChild(script);
                    
                    if (window.playSound) {
                        playSound('click');
                    }
                }
            });
            
            // Blasen erzeugen
            function createBubbles() {
                const container = document.querySelector('.ocean-container');
                const bubbleCount = 30;
                
                for (let i = 0; i < bubbleCount; i++) {
                    const bubble = document.createElement('div');
                    bubble.classList.add('bubble');
                    
                    // Zuf√§llige Gr√∂√üe
                    const size = Math.random() * 20 + 5;
                    bubble.style.width = `${size}px`;
                    bubble.style.height = `${size}px`;
                    
                    // Zuf√§llige Position
                    const posX = Math.random() * 100;
                    bubble.style.left = `${posX}%`;
                    
                    // Zuf√§llige Animation-Dauer
                    const duration = Math.random() * 10 + 5;
                    bubble.style.animationDuration = `${duration}s`;
                    
                    // Zuf√§llige Verz√∂gerung
                    const delay = Math.random() * 10;
                    bubble.style.animationDelay = `${delay}s`;
                    
                    container.appendChild(bubble);
                }
            }
            
            // Sound-Steuerung
            function setupSoundControl() {
                const soundToggle = document.getElementById('sound-toggle');
                const soundIcon = document.getElementById('sound-icon');
                let soundEnabled = false;
                
                // Erstelle Audio-Elemente
                const oceanAmbient = document.createElement('audio');
                oceanAmbient.src = '../Images/ocean-ambient.mp3';
                oceanAmbient.loop = true;
                oceanAmbient.preload = 'auto';
                document.body.appendChild(oceanAmbient);
                
                const bubbleSound = document.createElement('audio');
                bubbleSound.src = '../Images/ES_Bubbles, Bubble, Deep, Super Stereo 01 - Epidemic Sound.mp3';
                bubbleSound.preload = 'auto';
                document.body.appendChild(bubbleSound);
                
                const clickSound = document.createElement('audio');
                clickSound.src = '../Images/click.mp3';
                clickSound.preload = 'auto';
                document.body.appendChild(clickSound);
                
                soundToggle.addEventListener('click', function() {
                    soundEnabled = !soundEnabled;
                    
                    if (soundEnabled) {
                        soundIcon.src = '../Images/sound-on.png';
                        oceanAmbient.play();
                    } else {
                        soundIcon.src = '../Images/sound-off.png';
                        oceanAmbient.pause();
                    }
                    
                    // Klicksound abspielen
                    const clickSoundClone = clickSound.cloneNode();
                    clickSoundClone.volume = 0.5;
                    clickSoundClone.play();
                });
                
                // Funktion zum Abspielen von Sounds
                window.playSound = function(type) {
                    if (!soundEnabled) return;
                    
                    if (type === 'bubble') {
                        const bubbleSoundClone = bubbleSound.cloneNode();
                        bubbleSoundClone.volume = 0.3;
                        bubbleSoundClone.play();
                    } else if (type === 'click') {
                        const clickSoundClone = clickSound.cloneNode();
                        clickSoundClone.volume = 0.5;
                        clickSoundClone.play();
                    }
                };
            }
            
            // Maskottchen-Sprechblase
            function setupMascot() {
                const mascot = document.getElementById('mascot');
                const mascotSpeech = document.getElementById('mascot-speech');
                
                // Sprechblase beim Laden anzeigen und nach 5 Sekunden ausblenden
                mascotSpeech.classList.add('active');
                setTimeout(() => {
                    mascotSpeech.classList.remove('active');
                }, 5000);
                
                // Sprechblase bei Klick auf Maskottchen ein-/ausblenden
                mascot.addEventListener('click', function() {
                    if (window.playSound) {
                        playSound('click');
                    }
                    
                    mascotSpeech.classList.toggle('active');
                    
                    // Sprechblase nach 5 Sekunden wieder ausblenden
                    if (mascotSpeech.classList.contains('active')) {
                        setTimeout(() => {
                            mascotSpeech.classList.remove('active');
                        }, 5000);
                    }
                });
                
                // Animation bei Hover
                mascot.addEventListener('mouseenter', function() {
                    if (window.playSound) {
                        playSound('bubble');
                    }
                });
                
                // Verschiedene Sprechblasen-Texte f√ºr das Quiz
                const mascotTexts = [
                    "Hallo! Ich bin Koralli. Teste dein Wissen √ºber Korallenriffe in unserem Quiz!",
                  
          
                    "Viel Erfolg beim Quiz! Ich bin sicher, du wirst viel √ºber Korallenriffe lernen!",
                    
                ];
                
                // Zuf√§lligen Text anzeigen, wenn auf das Maskottchen geklickt wird
                mascot.addEventListener('click', function() {
                    const randomText = mascotTexts[Math.floor(Math.random() * mascotTexts.length)];
                    mascotSpeech.querySelector('p').textContent = randomText;
                });
            }
        });
    </script>
</body>
</html>